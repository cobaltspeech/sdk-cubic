<!DOCTYPE html>
<html>
  <head>
    <title>Cubic SDK -- Cobalt</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Android Integrations :: Cubic SDK -- Cobalt</title>
<link rel="shortcut icon" href="/sdk-cubic/images/favicon.ico" type="image/x-icon" />
<link href="/sdk-cubic/css/nucleus.css" rel="stylesheet">
<link href="/sdk-cubic/css/font-awesome.min.css" rel="stylesheet">
<link href="/sdk-cubic/css/hybrid.css" rel="stylesheet">
<link href="/sdk-cubic/css/featherlight.min.css" rel="stylesheet">
<link href="/sdk-cubic/css/auto-complete.css" rel="stylesheet">
<link href="/sdk-cubic/theme-original/style.css" rel="stylesheet">

  <link href="/sdk-cubic/theme-original/variant-blue.css" rel="stylesheet">

<link rel="stylesheet" href="/sdk-cubic/css/bootstrap.min.css">
<script src="/sdk-cubic/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<link href="/sdk-cubic/css/tabs.css" rel="stylesheet" type="text/css">
<script src="/sdk-cubic/js/tabs.js"></script>


    
  </head>
  <body data-url="/sdk-cubic/using-cubic-sdk/android/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><img src="/sdk-cubic/images/logo-white.png" alt="Cobalt&rsquo;s SDK Documentation"></p>
<p>Cubic SDK &ndash; Cobalt</p>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/sdk-cubic/js/lunr.min.js"></script>
		<script type="text/javascript" src="/sdk-cubic/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "https:\/\/cobaltspeech.github.io\/sdk-cubic";
        
		</script>
		<script type="text/javascript" src="/sdk-cubic/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/sdk-cubic/" class="dd-item">
            <a href="/sdk-cubic/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/sdk-cubic/getting-started/" class="dd-item
        ">
      <div>
      <a href="/sdk-cubic/getting-started/">Server Setup</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/sdk-cubic/using-cubic-sdk/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/sdk-cubic/using-cubic-sdk/">Using Cubic-SDK</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/installation/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/installation/">
            Installing the SDK
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/connecting/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/connecting/">
            Setup Connection
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/recognize/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/recognize/">
            Synchronous Recognition
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/streaming/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/streaming/">
            Streaming Recognition
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/client-configs/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/client-configs/">
            Recognition Configurations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/android/" class="dd-item active">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/android/">
            Android Integrations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/sdk-cubic/protobuf/" class="dd-item haschildren
        ">
      <div>
      <a href="/sdk-cubic/protobuf/">Cubic API Reference</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sdk-cubic/protobuf/autogen-doc-cubic-proto/" class="dd-item">
        <div>
          <a href="/sdk-cubic/protobuf/autogen-doc-cubic-proto/">
            Cubic Protobuf API Docs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/cobaltspeech/sdk-cubic" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
                <li class="" role=""><a href="https://www.cobaltspeech.com/contact" target="_blank" rel="noopener"><i class='fa fa-bookmark'></i> <label>Contact us</label></a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/sdk-cubic/'>Cubic SDK Documentation</a> > <a href='/sdk-cubic/using-cubic-sdk/'>Using Cubic-SDK</a> > Android Integrations

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#adding-the-protobuf-gradle-plugin-to-your-android-project">Adding the protobuf-gradle-plugin to your Android project</a></li>
    <li><a href="#generating-code-from-protobuf-files">Generating code from protobuf files</a></li>
    <li><a href="#downloading-the-latest-cubicproto-file">Downloading the latest cubic.proto file</a></li>
    <li><a href="#contact-us">Contact us</a></li>
  </ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Android Integrations</h1>
  



    
    
    
    <h2 id="adding-the-protobuf-gradle-plugin-to-your-android-project">Adding the <code>protobuf-gradle-plugin</code> to your Android project</h2>
<p>In your root <code>build.gradle</code> file, add a new protobuf-gradle-plugin dependency</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">buildscript {
    <span style="color:#999;font-style:italic">// ...
</span><span style="color:#999;font-style:italic"></span>    dependencies {
        <span style="color:#999;font-style:italic">// ...
</span><span style="color:#999;font-style:italic"></span>        classpath <span style="color:#ed9d13">&#34;com.google.protobuf:protobuf-gradle-plugin:0.8.10&#34;</span>
        <span style="color:#999;font-style:italic">// ...
</span><span style="color:#999;font-style:italic"></span>    }
}
</code></pre></div><p>This will allow the app&rsquo;s gradle build script to generate the protobuf code.</p>
<h2 id="generating-code-from-protobuf-files">Generating code from protobuf files</h2>
<p>Next, you will have to add the code to actually generate the files.
To generate the gRPC code, modify your <code>app/build.gradle</code> file with the following:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">apply plugin: <span style="color:#ed9d13">&#39;com.android.application&#39;</span> <span style="color:#999;font-style:italic">// Should already exist
</span><span style="color:#999;font-style:italic"></span>apply plugin: <span style="color:#ed9d13">&#39;com.google.protobuf&#39;</span> <span style="color:#999;font-style:italic">// Add this line
</span><span style="color:#999;font-style:italic"></span>
android { <span style="color:#999;font-style:italic">/*...*/</span>}

<span style="color:#999;font-style:italic">// This section adds a step to generate the gRPC code from `app/src/main/proto` proto files.
</span><span style="color:#999;font-style:italic"></span><span style="color:#999;font-style:italic">// This section adds a step to generate the gRPC code from `app/src/main/proto` proto files
</span><span style="color:#999;font-style:italic"></span><span style="color:#999;font-style:italic">// and make it available to your java/kotlin code.
</span><span style="color:#999;font-style:italic"></span>protobuf {
    protoc {
        artifact = <span style="color:#ed9d13">&#39;com.google.protobuf:protoc:3.10.0&#39;</span>
    }
    plugins {
        javalite {
            artifact = <span style="color:#ed9d13">&#34;com.google.protobuf:protoc-gen-javalite:3.0.0&#34;</span>
        }
        grpc {
            artifact = <span style="color:#ed9d13">&#39;io.grpc:protoc-gen-grpc-java:1.24.0&#39;</span>
        }
    }
    generateProtoTasks {
        all().<span style="color:#bbb">each</span> { task -&gt;
            task.<span style="color:#bbb">plugins</span> {
                javalite {}
                grpc {
                    <span style="color:#999;font-style:italic">// Options added to --grpc_out
</span><span style="color:#999;font-style:italic"></span>                    option <span style="color:#ed9d13">&#39;lite&#39;</span> <span style="color:#999;font-style:italic">// the gRPC documentation suggests using lite in android applications
</span><span style="color:#999;font-style:italic"></span>                }
            }
        }
    }
}

<span style="color:#999;font-style:italic">// Runtime dependencies
</span><span style="color:#999;font-style:italic"></span>dependencies {
    <span style="color:#999;font-style:italic">// Existing dependencies ...
</span><span style="color:#999;font-style:italic"></span>
    <span style="color:#999;font-style:italic">// gRPC Libraries
</span><span style="color:#999;font-style:italic"></span>    implementation <span style="color:#ed9d13">&#39;io.grpc:grpc-okhttp:1.24.0&#39;</span>
    implementation <span style="color:#ed9d13">&#39;io.grpc:grpc-protobuf-lite:1.24.0&#39;</span> <span style="color:#999;font-style:italic">// the gRPC documentation suggests using lite in android applications
</span><span style="color:#999;font-style:italic"></span>    implementation <span style="color:#ed9d13">&#39;io.grpc:grpc-stub:1.24.0&#39;</span>
    implementation <span style="color:#ed9d13">&#39;io.grpc:grpc-auth:1.24.0&#39;</span>
    implementation <span style="color:#ed9d13">&#39;javax.annotation:javax.annotation-api:1.2&#39;</span>
}

</code></pre></div><p>By default,  generateProtoTasks assumes all protofiles are availabe at <code>app/src/main/proto</code>.
To include proto files somewhere else, add lines such as this:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">
dependencies {
    <span style="color:#999;font-style:italic">// ...
</span><span style="color:#999;font-style:italic"></span>    protobuf <span style="color:#447fcf">files</span>(<span style="color:#ed9d13">&#34;lib/protos.tar.gz&#34;</span>)
    protobuf <span style="color:#447fcf">files</span>(<span style="color:#ed9d13">&#34;/path/to/other/folder/to/include/&#34;</span>)
}

</code></pre></div><h2 id="downloading-the-latest-cubicproto-file">Downloading the latest cubic.proto file</h2>
<p>You can find our proto file at <code>https://github.com/cobaltspeech/sdk-cubic/blob/master/grpc/cubic.proto</code>.
Copy this file to <code>app/src/main/proto/cubic.proto</code>.</p>
<p>cubic.proto also relies on a few other proto files:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>cubic.proto</td>
<td><a href="https://github.com/cobaltspeech/sdk-cubic/blob/master/grpc/cubic.proto">https://github.com/cobaltspeech/sdk-cubic/blob/master/grpc/cubic.proto</a></td>
</tr>
<tr>
<td>google/api/annotations.proto</td>
<td><a href="https://github.com/googleapis/googleapis/blob/6ae2d42/google/api/annotations.proto">https://github.com/googleapis/googleapis/blob/6ae2d42/google/api/annotations.proto</a></td>
</tr>
<tr>
<td>google/api/http.proto</td>
<td><a href="https://github.com/googleapis/googleapis/blob/6ae2d42/google/api/http.proto">https://github.com/googleapis/googleapis/blob/6ae2d42/google/api/http.proto</a></td>
</tr>
<tr>
<td>google/protobuf/descriptor.proto</td>
<td><a href="https://github.com/protocolbuffers/protobuf/blob/044c766/src/google/protobuf/descriptor.proto">https://github.com/protocolbuffers/protobuf/blob/044c766/src/google/protobuf/descriptor.proto</a></td>
</tr>
<tr>
<td>google/protobuf/duration.proto</td>
<td><a href="https://github.com/protocolbuffers/protobuf/blob/044c766/src/google/protobuf/duration.proto">https://github.com/protocolbuffers/protobuf/blob/044c766/src/google/protobuf/duration.proto</a></td>
</tr>
</tbody>
</table>
<p>Once you have all of these files downloaded, your file structure would look like this:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">app/src/main/proto/
├── cubic.proto
└── google
    ├── api
    │   ├── annotations.proto
    │   └── http.proto
    └── protobuf
        ├── descriptor.proto
        └── duration.proto
</code></pre></div><p>At this point, you should be able to do a <code>Build&gt;Clean Build</code> and <code>Build&gt;Rebuild Project</code>.</p>
<h2 id="contact-us">Contact us</h2>
<p>We know it takes work to get environments set up.  If you have any problems, don&rsquo;t hesitate to contact us.</p>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/sdk-cubic/using-cubic-sdk/client-configs/" title="Recognition Configurations"> <i class="fa fa-chevron-left"></i><label>Recognition Configurations</label></a>
    <a class="nav nav-next" href="/sdk-cubic/protobuf/" title="Cubic API Reference" style="margin-right: 0px;"><label>Cubic API Reference</label><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/sdk-cubic/js/clipboard.min.js"></script>
<script src="/sdk-cubic/js/featherlight.min.js"></script>
<script src="/sdk-cubic/js/html5shiv-printshiv.min.js"></script>

<script src="/sdk-cubic/js/modernizr.custom.71422.js"></script>
<script src="/sdk-cubic/js/docdock.js"></script>
<script src="/sdk-cubic/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>