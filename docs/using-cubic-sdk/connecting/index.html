<!DOCTYPE html>
<html>
  <head>
    <title>Cubic SDK -- Cobalt</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Setup Connection :: Cubic SDK -- Cobalt</title>
<link rel="shortcut icon" href="/sdk-cubic/images/favicon.ico" type="image/x-icon" />
<link href="/sdk-cubic/css/nucleus.css" rel="stylesheet">
<link href="/sdk-cubic/css/font-awesome.min.css" rel="stylesheet">
<link href="/sdk-cubic/css/hybrid.css" rel="stylesheet">
<link href="/sdk-cubic/css/featherlight.min.css" rel="stylesheet">
<link href="/sdk-cubic/css/auto-complete.css" rel="stylesheet">
<link href="/sdk-cubic/theme-original/style.css" rel="stylesheet">

  <link href="/sdk-cubic/theme-original/variant-blue.css" rel="stylesheet">

<link rel="stylesheet" href="/sdk-cubic/css/bootstrap.min.css">
<script src="/sdk-cubic/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<link href="/sdk-cubic/css/tabs.css" rel="stylesheet" type="text/css">
<script src="/sdk-cubic/js/tabs.js"></script>


    
  </head>
  <body data-url="/sdk-cubic/using-cubic-sdk/connecting/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><img src="/sdk-cubic/images/logo-white.png" alt="Cobalt&rsquo;s SDK Documentation"></p>
<p>Cubic SDK &ndash; Cobalt</p>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/sdk-cubic/js/lunr.min.js"></script>
		<script type="text/javascript" src="/sdk-cubic/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "https:\/\/cobaltspeech.github.io\/sdk-cubic";
        
		</script>
		<script type="text/javascript" src="/sdk-cubic/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/sdk-cubic/" class="dd-item">
            <a href="/sdk-cubic/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/sdk-cubic/getting-started/" class="dd-item
        ">
      <div>
      <a href="/sdk-cubic/getting-started/">Server Setup</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/sdk-cubic/using-cubic-sdk/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/sdk-cubic/using-cubic-sdk/">Using Cubic-SDK</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/installation/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/installation/">
            Installing the SDK
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/connecting/" class="dd-item active">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/connecting/">
            Setup Connection
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/recognize/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/recognize/">
            Synchronous Recognition
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/streaming/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/streaming/">
            Streaming Recognition
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/client-configs/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/client-configs/">
            Recognition Configurations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-cubic/using-cubic-sdk/android/" class="dd-item">
        <div>
          <a href="/sdk-cubic/using-cubic-sdk/android/">
            Android Integrations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/sdk-cubic/protobuf/" class="dd-item haschildren
        ">
      <div>
      <a href="/sdk-cubic/protobuf/">Cubic API Reference</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sdk-cubic/protobuf/autogen-doc-cubic-proto/" class="dd-item">
        <div>
          <a href="/sdk-cubic/protobuf/autogen-doc-cubic-proto/">
            Cubic Protobuf API Docs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/cobaltspeech/sdk-cubic" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
                <li class="" role=""><a href="https://www.cobaltspeech.com/contact" target="_blank" rel="noopener"><i class='fa fa-bookmark'></i> <label>Contact us</label></a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/sdk-cubic/'>Cubic SDK Documentation</a> > <a href='/sdk-cubic/using-cubic-sdk/'>Using Cubic-SDK</a> > Setup Connection

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#default-connection">Default Connection</a></li>
    <li><a href="#insecure-connection">Insecure Connection</a></li>
    <li><a href="#client-authentication">Client Authentication</a></li>
  </ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Setup Connection</h1>
  



    
    
    
    <p>Once you have your Cubic server up and running, let&rsquo;s see how we can use the SDK
to connect to it.</p>
<p>First, you need to know the address (<code>host</code>:<code>port</code>) where the server is running.
This document will assume the values <code>127.0.0.1:2727</code>, but be sure to change
those to point to your server instance. For example, to connect to Cobalt&rsquo;s demo server,
use <code>demo-cubic.cobaltspeech.com:2727</code><sup>1</sup>.  Port 2727 is the default GRPC port that
Cubic server binds to.</p>
<blockquote>
<p><sup>1</sup>Commercial use of the demo service is not permitted. This server is for testing and demonstration purposes only and is not guaranteed to support high availability or high volume. Data uploaded to the server may be stored for internal purposes.</p>
</blockquote>
<h2 id="default-connection">Default Connection</h2>
<p>The following code snippet connects to the server and queries its version.  It uses our recommended
default setup, expecting the server to be listening on a TLS encrypted connection,  as the demo
server does.</p>
<div class='code-tabs'><ul class="nav-tabs"></ul><div class="tab-content">
<div class="tab-pane" title="Go">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">
<span style="color:#6ab825;font-weight:bold">package</span> main

<span style="color:#6ab825;font-weight:bold">import</span> (
	<span style="color:#ed9d13">&#34;context&#34;</span>
	<span style="color:#ed9d13">&#34;fmt&#34;</span>
	<span style="color:#ed9d13">&#34;log&#34;</span>

	<span style="color:#ed9d13">&#34;github.com/cobaltspeech/sdk-cubic/grpc/go-cubic&#34;</span>
)

<span style="color:#6ab825;font-weight:bold">const</span> serverAddr = <span style="color:#ed9d13">&#34;127.0.0.1:2727&#34;</span>

<span style="color:#6ab825;font-weight:bold">func</span> <span style="color:#447fcf">main</span>() {
	client, err := cubic.<span style="color:#447fcf">NewClient</span>(serverAddr)
	<span style="color:#6ab825;font-weight:bold">if</span> err != <span style="color:#6ab825;font-weight:bold">nil</span> {
		log.<span style="color:#447fcf">Fatal</span>(err)
	}

	<span style="color:#6ab825;font-weight:bold">defer</span> client.<span style="color:#447fcf">Close</span>()

	version, err := client.<span style="color:#447fcf">Version</span>(context.<span style="color:#447fcf">Background</span>())
	<span style="color:#6ab825;font-weight:bold">if</span> err != <span style="color:#6ab825;font-weight:bold">nil</span> {
		log.<span style="color:#447fcf">Fatal</span>(err)
	}

	fmt.<span style="color:#447fcf">Println</span>(version)
}
</code></pre></div>
</div>


<div class="tab-pane" title="Python">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">cubic</span>

serverAddress = <span style="color:#ed9d13">&#34;127.0.0.1:2727&#34;</span>

client = cubic.Client(serverAddress)

resp = client.Version()
<span style="color:#6ab825;font-weight:bold">print</span>(resp)

</code></pre></div>
</div>


<div class="tab-pane" title="C#">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c#" data-lang="c#">
<span style="color:#6ab825;font-weight:bold">var</span> creds = <span style="color:#6ab825;font-weight:bold">new</span> Grpc.Core.SslCredentials();
<span style="color:#6ab825;font-weight:bold">var</span> channel = <span style="color:#6ab825;font-weight:bold">new</span> Grpc.Core.Channel(serverAddr, creds);
<span style="color:#6ab825;font-weight:bold">var</span> client = <span style="color:#6ab825;font-weight:bold">new</span> CobaltSpeech.Cubic.Cubic.CubicClient(channel);

<span style="color:#6ab825;font-weight:bold">var</span> resp = client.Version(<span style="color:#6ab825;font-weight:bold">new</span> Google.Protobuf.WellKnownTypes.Empty());
Console.WriteLine(String.Format(<span style="color:#ed9d13">&#34;CubicServer: {0}, Cubic: {1}&#34;</span>, resp.Server, resp.Cubic));

</code></pre></div>
</div>


<div class="tab-pane" title="Java/Android">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">io.grpc.ManagedChannel</span>;
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">io.grpc.ManagedChannelBuilder</span>;

<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">com.cobaltspeech.cubic.CubicGrpc</span>;

String url = <span style="color:#ed9d13">&#34;127.0.0.1:2727&#34;</span>
ManagedChannel mCubicChannel = ManagedChannelBuilder
    .<span style="color:#bbb">forTarget</span>(url)
    .<span style="color:#bbb">build</span>();
CubicGrpc.<span style="color:#bbb">CubicStub</span> mCubicService = CubicGrpc.<span style="color:#bbb">newStub</span>(mCubicChannel);
</code></pre></div>
</div>


<div class="tab-pane" title="Swift/iOS">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">Cubic</span>

<span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">CubicConnection</span> {

    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">serverAddress</span> = <span style="color:#ed9d13">&#34;demo-cubic.cobaltspeech.com&#34;</span>
    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">serverPort</span> = <span style="color:#3677a9">2727</span>

    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">client</span> = Client(host: serverAddress, port: serverPort, useTLS: <span style="color:#6ab825;font-weight:bold">true</span>)

}
</code></pre></div>
</div>


</div></div>

<h2 id="insecure-connection">Insecure Connection</h2>
<p>It is sometimes required to connect to Cubic server without TLS enabled, such as
during debugging.</p>
<p>Please note that if the server has TLS enabled, attempting to connect with an
insecure client will fail.
To connect to such an instance of cubic server, you can use:</p>
<div class='code-tabs'><ul class="nav-tabs"></ul><div class="tab-content">

<div class="tab-pane" title="Go">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">
client, err := cubic.<span style="color:#447fcf">NewClient</span>(serverAddr, cubic.<span style="color:#447fcf">WithInsecure</span>())
</code></pre></div>
</div>


<div class="tab-pane" title="Python">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
client = cubic.Client(serverAddress, insecure=True)
</code></pre></div>
</div>


<div class="tab-pane" title="C#">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c#" data-lang="c#">
<span style="color:#6ab825;font-weight:bold">var</span> creds = Grpc.Core.ChannelCredentials.Insecure;
<span style="color:#6ab825;font-weight:bold">var</span> channel = <span style="color:#6ab825;font-weight:bold">new</span> Grpc.Core.Channel(serverAddr, creds);
<span style="color:#6ab825;font-weight:bold">var</span> client = <span style="color:#6ab825;font-weight:bold">new</span> CobaltSpeech.Cubic.Cubic.CubicClient(channel);
</code></pre></div>
</div>


<div class="tab-pane" title="Java/Android">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">io.grpc.ManagedChannel</span>;
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">io.grpc.ManagedChannelBuilder</span>;

<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">com.cobaltspeech.cubic.CubicGrpc</span>;

String url = <span style="color:#ed9d13">&#34;127.0.0.1:2727&#34;</span>
ManagedChannel mCubicChannel = ManagedChannelBuilder
    .<span style="color:#bbb">forTarget</span>(url)
    .<span style="color:#bbb">usePlainText</span>()
    .<span style="color:#bbb">build</span>();
CubicGrpc.<span style="color:#bbb">CubicStub</span> mCubicService = CubicGrpc.<span style="color:#bbb">newStub</span>(mCubicChannel);
</code></pre></div>
</div>


<div class="tab-pane" title="Swift/iOS">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">
<span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">client</span> = Client(host: serverAddress, port: serverPort, useTLS: <span style="color:#6ab825;font-weight:bold">false</span>)
</code></pre></div>
</div>


</div></div>

<h2 id="client-authentication">Client Authentication</h2>
<p>In our recommended default setup, TLS is enabled in the gRPC setup, and when
connecting to the server, clients validate the server&rsquo;s SSL certificate to make
sure they are talking to the right party.  This is similar to how &ldquo;https&rdquo;
connections work in web browsers.</p>
<p>In some setups, it may be desired that the server should also validate clients
connecting to it and only respond to the ones it can verify. If your Cubic
server is configured to do client authentication, you will need to present the
appropriate certificate and key when connecting to it.</p>
<p>Please note that in the client-authentication mode, the client will still also
verify the server&rsquo;s certificate, and therefore this setup uses mutually
authenticated TLS. This can be done with:</p>
<div class='code-tabs'><ul class="nav-tabs"></ul><div class="tab-content">

<div class="tab-pane" title="Go">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">
client, err := cubic.<span style="color:#447fcf">NewClient</span>(serverAddr,  cubic.<span style="color:#447fcf">WithClientCert</span>(certPem, keyPem))
</code></pre></div>
</div>


<div class="tab-pane" title="Python">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
client = cubic.Client(serverAddress, clientCertificate=certPem, clientKey=keyPem)
</code></pre></div>
</div>


<div class="tab-pane" title="C#">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c#" data-lang="c#">
<span style="color:#6ab825;font-weight:bold">var</span> creds = <span style="color:#6ab825;font-weight:bold">new</span> Grpc.Core.SslCredentials(File.ReadAllText(<span style="color:#ed9d13">&#34;root.pem&#34;</span>));
<span style="color:#6ab825;font-weight:bold">var</span> channel = <span style="color:#6ab825;font-weight:bold">new</span> Grpc.Core.Channel(serverAddr, creds);
<span style="color:#6ab825;font-weight:bold">var</span> client = <span style="color:#6ab825;font-weight:bold">new</span> CobaltSpeech.Cubic.Cubic.CubicClient(channel);
</code></pre></div>
</div>


<div class="tab-pane" title="Java/Android">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">

Please see the Java section of https:<span style="color:#999;font-style:italic">//grpc.io/docs/guides/auth/ for more details.
</span><span style="color:#999;font-style:italic"></span>
</code></pre></div>
</div>


<div class="tab-pane" title="Swift/iOS">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">Cubic</span>
<span style="color:#6ab825;font-weight:bold">import</span> <span style="color:#447fcf;text-decoration:underline">NIOSSL</span>

<span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">CubicConnection</span> {

    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">serverAddress</span> = <span style="color:#ed9d13">&#34;demo-cubic.cobaltspeech.com&#34;</span>
    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">serverPort</span> = <span style="color:#3677a9">2727</span>

    <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">client</span> = Client(host: serverAddress, port: serverPort, tlsCertificateFileName: <span style="color:#ed9d13">&#34;root&#34;</span>, tlsCertificateFormat: .pem)

}

</code></pre></div>
</div>


</div></div>

<p>where certPem and keyPem are the bytes of the client certificate and key
provided to you.</p>

    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/sdk-cubic/using-cubic-sdk/installation/" title="Installing the SDK"> <i class="fa fa-chevron-left"></i><label>Installing the SDK</label></a>
    <a class="nav nav-next" href="/sdk-cubic/using-cubic-sdk/recognize/" title="Synchronous Recognition" style="margin-right: 0px;"><label>Synchronous Recognition</label><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/sdk-cubic/js/clipboard.min.js"></script>
<script src="/sdk-cubic/js/featherlight.min.js"></script>
<script src="/sdk-cubic/js/html5shiv-printshiv.min.js"></script>

<script src="/sdk-cubic/js/modernizr.custom.71422.js"></script>
<script src="/sdk-cubic/js/docdock.js"></script>
<script src="/sdk-cubic/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>